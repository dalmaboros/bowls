<div class="column">
  <% if @bowl %>
    <h2>add scrap to '<%= @bowl.name %>'</h2>
  <% else %>
    <h2>new scrap</h2>
  <% end %>

  <% if @scrap.errors.any? %>
    <div id="error_explanation">
      <% @scrap.errors.full_messages.each do |msg| %>
        <p><%= msg %>!</p>
      <% end %>
    </div>
  <% end %>

  <%= form_for @scrap do |f| %>
    <%= f.hidden_field :user_id, :value => current_user.id %>

    <%= f.label :description %>
    <%= f.text_field :description, maxlength: 140 %></p>

    <% if @bowl %>
      <%= f.hidden_field :bowl_ids, :multiple => true, :value => @bowl.id %>
    <% else %>
      add to existing bowl<br />
      <%= f.collection_check_boxes :bowl_ids, current_user.bowls, :id, :name %></p>

      add to new bowl<br />
      <%= f.fields_for :bowls, @scrap.bowls.build do |bowls_fields| %>
        <%= bowls_fields.text_field :name %>
        <%= bowls_fields.hidden_field :user_id, value: current_user.id %>
      <% end %>
    <% end %>

    <%= f.submit %>
  <% end %>
</div>
